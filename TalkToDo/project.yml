name: TalkToDo
options:
  bundleIdPrefix: com.talktodo
  deploymentTarget:
    iOS: "18.5"
    macOS: "15.7"
  xcodeVersion: "16.0"

packages:
  TalkToDoPackage:
    path: TalkToDoPackage

targets:
  TalkToDo-iOS:
    type: application
    platform: iOS
    deploymentTarget: "18.5"
    sources:
      - path: iOS
    resources:
      - path: iOS/Assets.xcassets
    dependencies:
      - package: TalkToDoPackage
        product: TalkToDoFeature
      - package: TalkToDoPackage
        product: TalkToDoShared
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.talktodo.ios
        INFOPLIST_FILE: iOS/Info.plist
        SWIFT_VERSION: "5.9"
        ENABLE_PREVIEWS: YES
        CODE_SIGN_ENTITLEMENTS: iOS/TalkToDo.entitlements
    info:
      path: iOS/Info.plist
      properties:
        CFBundleDisplayName: TalkToDo
        UILaunchScreen: {}
        UISupportedInterfaceOrientations:
          - UIInterfaceOrientationPortrait
          - UIInterfaceOrientationLandscapeLeft
          - UIInterfaceOrientationLandscapeRight
          - UIInterfaceOrientationPortraitUpsideDown
        NSMicrophoneUsageDescription: "TalkToDo needs microphone access to capture your voice."
        NSSpeechRecognitionUsageDescription: "TalkToDo uses speech recognition to convert your voice to structured lists."

  TalkToDo-macOS:
    type: application
    platform: macOS
    deploymentTarget: "15.7"
    sources:
      - path: macOS
    resources:
      - path: macOS/Assets.xcassets
    dependencies:
      - package: TalkToDoPackage
        product: TalkToDoFeature
      - package: TalkToDoPackage
        product: TalkToDoShared
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.talktodo.macos
        INFOPLIST_FILE: macOS/Info.plist
        SWIFT_VERSION: "5.9"
        ENABLE_PREVIEWS: YES
        CODE_SIGN_ENTITLEMENTS: macOS/TalkToDo.entitlements
    info:
      path: macOS/Info.plist
      properties:
        CFBundleDisplayName: TalkToDo
        NSMicrophoneUsageDescription: "TalkToDo needs microphone access to capture your voice."
        NSSpeechRecognitionUsageDescription: "TalkToDo uses speech recognition to convert your voice to structured lists."
